"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require('../../external/@babel/runtime/helpers/slicedToArray.js'),t=require('tslib'),a=require('react'),n=require('styled-components'),i=require('classnames'),o=require('../../constant.js'),r=require('./TableContext/TableContext.component.js'),l=require('./TableCaption/TableCaption.component.js'),s=require('../../utility/getNativeProps/getNativeProps.js'),c=require('./TableHeader/TableHeader.component.js'),d=require('./TableBody/TableBody.component.js'),u=require('../TrackingProvider/TrackingProvider.component.js');function p(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var b=p(a),f=p(n),m=p(i),v=f.default.div.withConfig({displayName:"Tablecomponent__TableContainer",componentId:"rc5txq-0"})(["",""],(function(e){var t=e.maxHeight,a=e.nested,i=e.theme.color;return n.css([""," "," display:block;width:100%;"],t&&" \n      max-height: ".concat(t,"; \n      &:focus {\n        outline: 3px solid ").concat(i.focus.value,";\n      }\n      \n      &::-webkit-scrollbar {\n        position: absolute;\n        background: transparent;\n        width: 17px;\n      }\n\n      &::-webkit-scrollbar-thumb {\n        background: rgba(0, 0, 0, 0.5);\n        border-radius: 10px;\n        border: 5px solid ").concat(i.background.base.value,";\n      }\n\n      &::-webkit-scrollbar-thumb:vertical {\n        height: 20px;\n        width: 17px;\n      }\n    "),!a&&"overflow-x: auto;")})),g={captionDescription:"This table has sortable content"},y={captionSticky:!0,captionIndex:o.Z_INDEX.EIGHT-1,captionOffset:"3.25rem",headerSticky:!0,headerIndex:o.Z_INDEX.EIGHT-2,headerOffset:"5.75rem"},h=a.memo((function(n){var i,p,f,h,k;n.rootClassName;var x=n.className,j=n.data,S=void 0===j?[]:j,E=n.page,C=n.pageSize,O=n.config,q=n.expandableContent,N=t.__rest(n,["rootClassName","className","data","page","pageSize","config","expandableContent"]),w=a.useState(O),I=e.default(w,2),_=I[0],H=I[1],P=a.useState(null===(i=_.sticky)||void 0===i?void 0:i.maxHeight),B=e.default(P,2),M=B[0],D=B[1],z=u.useTracking(),G=a.useState((function(){return Math.floor(Math.random()*Math.floor(1e5))})),X=e.default(G,1)[0],Z="caption-".concat(N.id||X);a.useEffect((function(){z.mount(o.TrackingConstants.components.Table.id)}),[z]);var A=a.useMemo((function(){var e;return Object.assign(Object.assign(Object.assign({},g),(null===(e=_.caption)||void 0===e?void 0:e.descriptionText)&&{captionDescription:_.caption.descriptionText}),{data:S})}),[S,null===(p=_.caption)||void 0===p?void 0:p.descriptionText]),F={page:E,pageSize:C},J=function(e,t){var a={};return Object.keys(e).forEach((function(n){var i;return a[n]=null!==(i=t[n])&&void 0!==i?i:e[n]})),a};return a.useEffect((function(){var e;H(O),function(e,t,a,n,i){var o;e.nested?(!0===e.sort&&(y.headerOffset="7.125rem"),e.sticky?t(Object.assign(Object.assign({},e),{sticky:Object.assign({},a(y,e.sticky))})):t(Object.assign(Object.assign({},e),{sticky:Object.assign({},y)}))):(null===(o=e.sticky)||void 0===o?void 0:o.headerSticky)&&!i&&n("500px")}(O,H,J,D,null===(e=_.sticky)||void 0===e?void 0:e.maxHeight)}),[O]),b.default.createElement(b.default.Fragment,null,b.default.createElement(r.TableProvider,{initialState:A,config:_,paginationState:F,expandableContent:q},b.default.createElement("div",{className:m.default("uitk-table",x)},(null===(f=_.sticky)||void 0===f?void 0:f.headerSticky)&&_.caption&&b.default.createElement(l.TableCaption,{captionId:Z,nested:_.nested}),b.default.createElement(v,{maxHeight:M,nested:_.nested,tabIndex:(null===(h=_.sticky)||void 0===h?void 0:h.headerSticky)&&!_.nested?0:void 0},b.default.createElement(T,Object.assign({"aria-labelledby":O.labelledBy?O.labelledBy:_.nested||(null===(k=_.sticky)||void 0===k?void 0:k.headerSticky)?Z:null},s.getNativeProps(N,s.tableProperties)),!_.sticky&&_.caption&&b.default.createElement(l.TableCaption,{captionId:Z}),b.default.createElement(c.TableHeader,{captionId:Z,onSort:_.onSort}),b.default.createElement(d.TableBody,{nested:_.nested}))))))}));h.displayName="Table";var T=f.default.table.withConfig({displayName:"Tablecomponent__StyledTable",componentId:"rc5txq-1"})(["border-collapse:separate;border-spacing:0;white-space:nowrap;display:table;width:100%;overflow:auto;position:relative;"]);h.uitkName="Table",exports.Table=h,exports.default=h;
