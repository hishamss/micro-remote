"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require('../../../external/@babel/runtime/helpers/slicedToArray.js'),t=require('react'),n=require('styled-components'),o=require('../styles.js'),a=require('../utils/pagination.js'),l=require('../ExpandableRow.component.js'),r=require('../ExpandRowButton.component.js'),d=require('../TableContext/TableContext.component.js'),u=require('../../../hook/useControllableState/useControllableState.js');function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=i(t),c=i(n),b=n.css(["",""],(function(e){var t=e.theme.color;return n.css(["background:",";border-bottom:none;"],t.background.table.row.accent.subtle.value)})),p=n.css(["",""],(function(e){var t=e.theme.color;return n.css(["background:",';position:relative;background-clip:padding-box;&:first-child:before{content:"";position:absolute;top:0;left:0;display:block;background:',";height:100%;width:4px;}"],t.background.table.row.accent.subtle.value,t.background.brand.base.value)})),f=n.css(["",""],(function(e){var t=e.theme,o=t.border,a=t.color;return n.css(["background:",";text-align:center;vertical-align:middle;border-right:"," solid ",";"],a.background.table.row.accent.subtle.value,o.width.base.value,a.border.base.value)})),v=n.css(["",""],(function(e){return e.theme.color,"\n  background: transparent;\n  font-size: 0.875rem;\n  line-height: 1.5;"})),g=c.default.td.withConfig({displayName:"TableBodycomponent__TableBodyCell",componentId:"sc-109z60r-0"})(["",""],(function(e){var t=e.expanded,a=e.isExpandButtonCell,l=e.nested,r=e.theme,d=r.border,u=r.color,i=r.font;return n.css(["background:",";border-bottom:"," solid ",";color:",";font-weight:",";",";vertical-align:middle;",";",";",";",""],u.background.table.row.value,d.width.base.value,u.border.base.value,u.text.table.row.value,i.weight.base.value,o.headerAndCellStyles,a&&f,t&&b,t&&a&&p,l&&v)})),m=function(n){var o,a,i,c=n.index,b=n.nested,p=t.useState(),f=e.default(p,2),v=f[0],m=f[1],w=d.useTableState().data,x=d.useTableConfig(),h=x.columns,k=x.onRenderCell,y=d.useTableExpandableContent(),C=[],E=w[c],T=null,B="".concat(E.id,"-expandable-content"),R=u.useControllableState(null===(o=null==y?void 0:y.rows[E.id])||void 0===o?void 0:o.expanded,null==y?void 0:y.onExpandableRowBtnPress,!1),j=e.default(R,2),q=j[0],S=j[1],P=null===(a=null==y?void 0:y.rows[E.id])||void 0===a?void 0:a.removePadding,_=null===(i=null==y?void 0:y.rows[E.id])||void 0===i?void 0:i.altHideRowButtonText;if(y&&(C.push(s.default.createElement(g,{key:"".concat(E.id,"-more-btn"),expanded:q,nested:b,isExpandButtonCell:!0},y.rows[E.id]?s.default.createElement(r.ExpandRowButton,{expandableContentId:B,ref:m,refInstance:v,expanded:q,onPress:function(){return S(!q,E.id)},rowData:E}):null)),y.rows[E.id])){T=s.default.createElement(l.ExpandableRow,{hideRowButtonText:y.hideRowButtonText,key:B,id:B,onCloseButtonPress:function(){S(!1,E.id),v.focus()},tdColSpan:h.length+1,rowData:E,removePadding:P,altHideRowButtonText:_},y.rows[E.id].content)}h.forEach((function(e){var t=e.key,n=e.label,o=e.onRenderCell;return C.push(s.default.createElement(g,{key:E.id+"-"+(null!=t?t:n),expanded:q,nested:b},o?o(E,t,n):k?k(E,t,n):E[t]))}));var z=y&&q;return s.default.createElement(s.default.Fragment,null,s.default.createElement("tr",{"data-testid":"table-row"},C),z&&T)};exports.TableBody=function(e){for(var t=e.nested,n=d.useTableState().data,o=d.useTablePagination(),l=o.page,r=o.pageSize,u=a.getRangeForRender(l,r,n),i=u.end,c=[],b=u.start;b<=i;b++)c.push(s.default.createElement(m,{nested:t,key:n[b].id,index:b}));return s.default.createElement("tbody",null,c)};
