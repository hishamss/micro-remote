"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require('tslib'),r=require('react'),t=require('styled-components'),n=require('../../constant.js');require('../../external/@babel/runtime/helpers/slicedToArray.js');var o=require('../../styles/calc.js'),a=require('polished'),i=require('@react-aria/live-announcer'),s=require('classnames'),l=require('@uitk/react-icons'),c=require('../Label/Label.component.js'),u=require('../TrackingProvider/TrackingProvider.component.js'),d=require('../HelperText/HelperText.component.js');function m(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var g=m(r),p=m(t),f=m(s),v=t.keyframes(["0%{background-position:right bottom;}100%{background-position:left bottom;}"]),h=p.default(l.AlertFilled).withConfig({displayName:"ProgressBarcomponent__ProgressAlert",componentId:"sc-12ti682-0"})(["margin:0 ",";"],(function(e){return e.theme.spacing.xs.value})),b=p.default(l.CheckmarkFilled).withConfig({displayName:"ProgressBarcomponent__ProgressComplete",componentId:"sc-12ti682-1"})(["margin:0 ",";"],(function(e){return e.theme.spacing.xs.value})),P=p.default.div.withConfig({displayName:"ProgressBarcomponent__ProgressBarContent",componentId:"sc-12ti682-2"})(["",""],(function(e){var r=e.theme.spacing;return"\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin: ".concat(r.sm.value," 0 ").concat(r.m.value," 0;\n    height: ").concat(r.base.value,";\n  ")})),w=p.default(c.Label).withConfig({displayName:"ProgressBarcomponent__ProgressLabel",componentId:"sc-12ti682-3"})(["margin-right:",";"],(function(e){return e.theme.spacing.xs.value})),_=p.default.div.withConfig({displayName:"ProgressBarcomponent__ProgressLabelContainer",componentId:"sc-12ti682-4"})(["display:flex;flex-direction:row;"]),y=p.default.span.withConfig({displayName:"ProgressBarcomponent__ProgressText",componentId:"sc-12ti682-5"})(["",""],(function(e){var r=e.theme,n=r.color,o=r.font;return t.css(["color:",";font-size:",";font-weight:",";"],n.text.primary.value,o.size.form.label.value,o.weight.strong.value)})),k=p.default.span.withConfig({displayName:"ProgressBarcomponent__ProgressErrorLabel",componentId:"sc-12ti682-6"})(["",""],(function(e){var r=e.theme,n=r.color,o=r.font;return t.css(["color:",";font-size:",";font-weight:",";"],n.semantic.error.base.value,o.size.form.label.value,o.weight.strong.value)})),x=p.default.span.withConfig({displayName:"ProgressBarcomponent__ProgressCompleteLabel",componentId:"sc-12ti682-7"})(["",""],(function(e){var r=e.theme,n=r.color,o=r.font;return t.css(["color:",";font-size:",";font-weight:",";"],n.semantic.success.base.value,o.size.form.label.value,o.weight.strong.value)})),B=p.default.progress.withConfig({displayName:"ProgressBarcomponent__ProgressBarHidden",componentId:"sc-12ti682-8"})(["appearance:none;border:none;width:0;height:0;"]),C=t.css(["margin-right:",";"],(function(e){return e.theme.spacing.lg.value})),E=p.default.div.withConfig({displayName:"ProgressBarcomponent__ProgressBarIndicator",componentId:"sc-12ti682-9"})(["",""],(function(e){var r=e.complete,n=e.error,a=e.theme,i=a.color,s=a.font;a.spacing;var l=a.border,c=a.opacity;return t.css(["width:100%;outline:none;position:relative;box-shadow:inset 0 0 "," 0 rgba(",",",");height:",";border-radius:4px;background-color:",";overflow:hidden;",""],l.width.large.value,i.shadow.accessible.value,c.high.value,o.calc(s.size.body.base.value,.5),i.background.accent.subtle.value,!r&&!n&&C)})),N=t.css(["transition:none;"]),I=t.css(["transition:width 0.5s ease-out;"]),q=t.css(["background:",";",";"],(function(e){return e.theme.color.semantic.success.base.value}),N),z=t.css(["width:100%;background:",";",";"],(function(e){return e.theme.color.semantic.error.base.value}),N),L=p.default.div.withConfig({displayName:"ProgressBarcomponent__ProgressBarFill",componentId:"sc-12ti682-10"})(["",""],(function(e){var r=e.complete,n=e.error,i=e.progress,s=e.theme,l=s.animation,c=s.color,u=s.font;return t.css(["position:absolute;width:",";",";height:",";border-radius:4px;background:linear-gradient( to right,"," 33%,",","," 66% ) center;background-size:300% 100%,cover;animation-name:",";animation-duration:",";animation-iteration-count:infinite;@media (prefers-reduced-motion){animation:none;}"," ",""],1.06*i+"%",0===i?N:I,o.calc(u.size.body.base.value,.5),c.background.primary.base.value,a.lighten(.3,c.background.primary.base.value),c.background.primary.base.value,v,o.calc(l.duration.animate.medium.value,10),r&&q,n&&z)})),T=function(t){t.children;var o=t.className,a=t.config,s=t.id,l=e.__rest(t,["children","className","config","id"]),c=u.useTracking(),m=a.complete,p=void 0!==m&&m,v=a.completeLabel,C=void 0===v?"Complete":v,N=a.error,I=void 0!==N&&N,q=a.errorLabel,z=void 0===q?"Error":q,T=a.helperText,j=a.initialLabel,A=a.label,H=void 0===A?"Progress":A,F=a.liveAnnouncerInterval,M=void 0===F?25:F,O=a.liveAnnouncerMessage,D=a.progress;return r.useEffect((function(){c.mount(n.TrackingConstants.components.ProgressBar.id)}),[c]),r.useEffect((function(){if(D%M==0){var e=0===D?"":O||"".concat(D," percent complete");i.announce(e)}}),[D]),g.default.createElement("div",Object.assign({className:f.default("uitk-progress-bar",o)},l),g.default.createElement(_,null,g.default.createElement(w,{error:I},j&&0===D?j:H),!I&&!p&&g.default.createElement(y,null,"(".concat(D,"%)")),g.default.createElement("span",{"aria-live":"assertive"},I&&g.default.createElement(k,null,z)),!I&&p&&g.default.createElement(x,null,C)),T&&g.default.createElement(d.HelperText,null,T),g.default.createElement(P,null,g.default.createElement(B,{id:s,max:100,value:D}),g.default.createElement(E,{error:I,complete:p},g.default.createElement(L,{progress:D,error:I,complete:p})),I&&g.default.createElement(h,{size:"s"}),p&&g.default.createElement(b,{size:"s"})))},j=p.default(T).withConfig({displayName:"ProgressBarcomponent__ProgressBar",componentId:"sc-12ti682-11"})([""]);exports.ProgressBar=j;
