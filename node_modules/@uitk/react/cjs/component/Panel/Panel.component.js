"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require('../../external/@babel/runtime/helpers/slicedToArray.js'),a=require('tslib'),n=require('react'),t=require('styled-components'),l=require('@react-aria/button'),o=require('classnames'),r=require('../../constant.js'),i=require('../../utility/getUuid/getUuid.js'),d=require('../../hook/useControllableState/useControllableState.js'),u=require('../TrackingProvider/TrackingProvider.component.js'),s=require('../Icon/ArrowRightBold.component.js');function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var p=c(n),m=c(t),f=c(o),b=m.default.h3.withConfig({displayName:"Panelcomponent__Header",componentId:"ebl5fp-0"})(["margin:0;"]),h=m.default.button.withConfig({displayName:"Panelcomponent__HeaderSection",componentId:"ebl5fp-1"})(["",""],(function(e){var a=e.theme,n=a.spacing,l=a.animation,o=a.color,r=a.border;return t.css(["border:0;background-color:",";display:flex;align-items:flex-start;flex-direction:column;width:100%;cursor:pointer;user-select:none;outline:none;padding-left:",";border-left:4px solid transparent;&:hover,&:focus{box-shadow:0 0 0 3px ",";border-radius:",";z-index:1;position:relative;transition:all "," ease-in-out;}"],o.background.surface.base.value,n.sm.value,o.border.brand.base.value,r.radius.base.value,l.duration.animate.fast.value)})),v=m.default.span.withConfig({displayName:"Panelcomponent__HeaderText",componentId:"ebl5fp-2"})(["",""],(function(e){var a=e.theme,n=a.spacing,l=a.color,o=a.font;return t.css(["display:block;padding:"," 0 "," ",";line-height:",";font-family:",";font-size:",";font-weight:",";color:",";margin:0;text-align:left;"],n.base.value,n.base.value,n.xs.value,o.size.heading.h3.value,o.family.heading.h3.value,o.size.heading.h3.value,o.weight.heading.h3.value,l.text.heading.h3.value)})),g=m.default.span.withConfig({displayName:"Panelcomponent__HeaderMainContent",componentId:"ebl5fp-3"})(["display:flex;align-items:center;width:100%;"]),y=m.default.span.withConfig({displayName:"Panelcomponent__HeaderDetail",componentId:"ebl5fp-4"})(["",""],(function(e){var a=e.theme,n=a.spacing,t=a.font,l=a.color;return"\n  display: block;\n  width: 100%;\n  text-align: left;\n  padding-bottom: ".concat(n.base.value,";\n  font-size: ").concat(t.size.body.base.value,";\n  color: ").concat(l.text.base.value,";\n  ")})),x=m.default.span.withConfig({displayName:"Panelcomponent__HeaderTitle",componentId:"ebl5fp-5"})(["",""],(function(e){var a=e.theme.spacing;return"\n    display: inline-block;\n    line-height: 1;\n    padding: ".concat(a.base.value," 0 ").concat(a.base.value," ").concat(a.m.value,";\n  ")})),_=m.default.span.withConfig({displayName:"Panelcomponent__IconWrapper",componentId:"ebl5fp-6"})(["",""],(function(e){var a=e.expanded,n=e.theme.animation;return"  \n  display: inline-block;\n  line-height: 0;\n  ".concat(a&&"transform: rotate(90deg);","\n  transition: all ").concat(n.duration.animate.medium.value," linear;\n  ")})),k=t.keyframes(["0%{display:none;opacity:0;}1%{display:block;opacity:0;}100%{display:block;opacity:1;}"]),P=m.default.div.withConfig({displayName:"Panelcomponent__Content",componentId:"ebl5fp-7"})(["",""],(function(e){var a=e.theme,n=a.spacing,l=a.animation;return t.css(["padding:"," "," "," ",";animation:"," "," linear normal;"],n.lg.value,n.lg.value,n.xxl.value,n.m.value,k,l.duration.animate.medium.value)})),C=i.getUuid("panel"),w=n.memo((function(a){var n=a.children,t=a.className,l=a.initiallyOpen,o=a.onHeaderPress,r=a.open,i=d.useControllableState(r,o,!l),u=e.default(i,2),s=u[0],c=u[1],m=p.default.Children.map(n,(function(e,a){var n;return p.default.cloneElement(e,{open:a===s,onHeaderPress:(n=a,function(){return c(r===n?null:n)})})}));return p.default.createElement("div",{className:f.default("uitk-accordion",t)},m)}));w.displayName="_AccordionGroup";var N=m.default(w).withConfig({displayName:"Panelcomponent__AccordionGroup",componentId:"ebl5fp-8"})(["",""],(function(e){var a=e.theme,n=a.color,l=a.border;return t.css(["border-bottom:"," ",' solid;.uitk-panel{border-left:transparent;border-right:transparent;border-radius:0;border-bottom:0;.uitk-panel-header{border-radius:0;}}.uitk-panel .uitk-panel-header[aria-expanded="true"]{background:',";border-left:4px solid ",";}"],n.border.base.value,l.width.base.value,n.background.base.value,n.border.brand.base.value)})),E=function(o){var i=o.children,c=o.className,m=o.headerDetail,k=o.icon,w=o.initiallyClosed,N=o.onHeaderPress,E=o.open,I=o.title,q=o.titleAs,j=o.collapsible,H=void 0===j||j,A=a.__rest(o,["children","className","headerDetail","icon","initiallyClosed","onHeaderPress","open","title","titleAs","collapsible"]),T=u.useTracking();n.useEffect((function(){T.mount(r.TrackingConstants.components.Panel.id)}),[T]);var z=d.useControllableState(E,N,!w),S=e.default(z,2),G=S[0],O=S[1],B=n.useState(C),D=e.default(B,1)[0],R=n.useRef(),U=l.useButton({onPress:function(){return O(!G)}},R).buttonProps,M=n.useContext(t.ThemeContext).color;return p.default.createElement("div",Object.assign({className:f.default("uitk-panel",c)},A),p.default.createElement(b,{"data-testid":"panel-header",as:q},H?p.default.createElement(h,Object.assign({className:"uitk-panel-header",ref:R},U,{"aria-expanded":G,"aria-controls":G?D:null}),p.default.createElement(g,null,p.default.createElement(_,{expanded:G},k||p.default.createElement(s.ArrowRightBold,{fill:M.text.heading.h3.value})),p.default.createElement(v,{"data-testid":"panel-header-text"},I)),m&&p.default.createElement(y,{"data-testid":"panel-header-detail"},m)):p.default.createElement(x,null,I)),G?p.default.createElement(P,{id:D,"data-testid":"panel-content"},i):null)};E.Group=m.default.div.withConfig({displayName:"Panelcomponent__PanelGroup",componentId:"ebl5fp-9"})(["",""],(function(e){var a=e.theme.spacing;return t.css([".uitk-panel{margin-bottom:",";}"],a.xs.value)})),E.AccordionGroup=N;var I=m.default(E).withConfig({displayName:"Panelcomponent__Panel",componentId:"ebl5fp-10"})(["",""],(function(e){var a=e.theme,n=a.border,l=a.color;return t.css(["width:100%;background:",";border:"," solid ",";border-radius:",";"],l.background.surface.base.value,l.border.base.value,n.width.base.value,n.radius.base.value)}));exports.Panel=I;
