"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require('tslib'),a=require('react'),t=require('styled-components'),n=require('../../constant.js'),r=require('classnames'),i=require('@uitk/react-icons');require('../../external/@babel/runtime/helpers/slicedToArray.js');var l=require('../../styles/calc.js'),o=require('polished'),s=require('@react-aria/visually-hidden'),c=require('../../external/@uitk/react-icons/esm/NewWindow.js'),u=require('../TrackingProvider/TrackingProvider.component.js');function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var m=d(a),f=d(t),v=d(r),h=f.default.span.withConfig({displayName:"Avatarcomponent__H2Style",componentId:"dvca7c-0"})(["",""],(function(e){var a=e.theme,n=a.font,r=a.color;return t.css(["line-height:1;font-family:",";font-size:",";font-weight:",";color:",";"],n.family.heading.h2.value,n.size.heading.h2.value,n.weight.heading.h2.value,r.text.heading.h2.value)})),g=f.default.span.withConfig({displayName:"Avatarcomponent__H3Style",componentId:"dvca7c-1"})(["",""],(function(e){var a=e.theme,n=a.font,r=a.color;return t.css(["line-height:1;font-family:",";font-size:",";font-weight:",";color:",";"],n.family.heading.h3.value,n.size.heading.h3.value,n.weight.heading.h3.value,r.text.heading.h3.value)})),b=f.default.span.withConfig({displayName:"Avatarcomponent__H6Style",componentId:"dvca7c-2"})(["",""],(function(e){var a=e.theme,n=a.font,r=a.color;return t.css(["line-height:1;font-family:",";font-size:",";font-weight:",";color:",";"],n.family.heading.h6.value,n.size.heading.h6.value,n.weight.heading.h6.value,r.text.heading.h6.value)})),p={xs:"1.5rem",s:"2rem",m:"3rem",l:"4rem",xl:"5rem",xxl:"6rem"},x={xs:b,s:b,m:g,l:g,xl:g,xxl:h},k=function(e,a,t,n,r){return e||(a&&t&&!n&&r||"")},w=function(e,a){return!(e&&!a)||null},y=function(e){var n=e.src,r=e.size,i=void 0===r?"m":r,l=e.variant,o=e.initials,u=e.placeHolderIcon,d=e.backgroundColor,f=e.label,v=e.subLabel,h=e.labelAlign,g=e.customSize,b=e.hideLabel,p=e.linkUrl,y=e.alt,_=e.newTab,A=e.isButtonContent,z=void 0!==A&&A,C=s.useVisuallyHidden().visuallyHiddenProps,I=a.useContext(t.ThemeContext);return m.default.createElement(X,{as:z&&"span",labelAlign:h,linkUrl:p},n?m.default.createElement($,{as:z&&"span",size:i,variant:l,customSize:g,className:"container"},m.default.createElement(ee,{"data-testid":"avatar-img",alt:k(y,n,b,z,f),"aria-hidden":w(b,z),src:n,variant:l})):m.default.createElement(Q,{"data-testid":"avatar-wrapper",as:z&&"span",variant:l,size:i,backgroundColor:d,customSize:g},!o&&(u||B(l,f,b)),m.default.createElement(K,{as:z&&"span","aria-hidden":"true",variant:l,"data-testid":"inital-wrapper",size:i,backgroundColor:d},null==o?void 0:o.slice(0,2))),!b&&m.default.createElement(Z,{labelAlign:h,"data-testid":"label-wrapper"},m.default.createElement(D,{size:i,linkUrl:p,as:x[i],"data-testid":"avatar-label"},f,_&&m.default.createElement(m.default.Fragment,null,m.default.createElement(c.default,{stroke:I.color.link.base.value,strokeWidth:"1.2"}),m.default.createElement("span",Object.assign({},C),"Opens in a new window"))),v&&m.default.createElement(Y,{labelAlign:h},v)))},_=function(t){var r=t.src,i=t.className,l=t.size,o=void 0===l?"m":l,s=t.initials,c=t.placeHolderIcon,d=t.backgroundColor,f=t.label,h=t.linkUrl,g=t.variant,b=t.subLabel,p=t.labelAlign,x=t.alt,k=t.hideLabel,w=t.newTab,_=t.customSize,A=t.isButtonContent,z=e.__rest(t,["src","className","size","initials","placeHolderIcon","backgroundColor","label","linkUrl","variant","subLabel","labelAlign","alt","hideLabel","newTab","customSize","isButtonContent"]),C=u.useTracking();return a.useEffect((function(){C.mount(n.TrackingConstants.components.Avatar.id)}),[C]),m.default.createElement(m.default.Fragment,null,h?m.default.createElement(G,{"data-testid":"avatar-link",linkUrl:h,newTab:w,className:i,role:s?"img":null},m.default.createElement(y,{initials:s,labelAlign:p,size:o,label:f,subLabel:b,backgroundColor:d,placeHolderIcon:c,alt:f,src:r,linkUrl:h,variant:g,customSize:_,newTab:w})):m.default.createElement(J,Object.assign({as:A&&"span","data-testid":"avatar","aria-label":k&&s?f:null,role:s&&k&&"img",className:v.default("uitk-avatar",i)},z),m.default.createElement(y,{initials:s,labelAlign:p,size:o,label:f,subLabel:b,backgroundColor:d,placeHolderIcon:c,alt:x,src:r,variant:g,customSize:_,hideLabel:k,linkUrl:h,isButtonContent:A})))},A=t.css(["",""],(function(e){var a=e.theme.color;return t.css(["background:",";"],a.semantic.info.base.value)})),z=t.css(["",""],(function(e){var a=e.theme.color;return t.css(["background:",";"],a.background.primary.base.value)})),C=t.css(["",""],(function(e){var a=e.theme.color;return t.css(["background:",";"],a.semantic.success.base.value)})),I=t.css(["",""],(function(e){var a=e.theme.color;return t.css(["background:",";"],a.link.base.value)})),E=t.css(["",""],(function(e){var a=e.theme.color;return t.css(["background:",";"],a.text.secondary.value)})),N=t.css(["",""],(function(e){var a=e.theme.color;return t.css(["background:",";"],a.text.base.value)})),L=t.css(["flex-direction:row;"]),j=t.css(["flex-direction:column;justify-content:center;"]),q=t.css(["margin-top:",";"],(function(e){return e.theme.spacing.xs.value})),H=t.css(["margin-left:",";"],(function(e){return e.theme.spacing.xs.value})),S=t.css(["border-radius:50%;"]),T=t.css(["border-radius:",";"],(function(e){return e.theme.spacing.xxs.value})),U=t.css(["align-self:start;"]),W=t.css(["align-self:center;"]),P=function(e){return"square"===e?T:S},O=function(e){switch(e){case"primary":return z;case"secondary":return N;case"neutral":return E;case"success":return C;case"info":return A;case"link":return I;default:return z}},B=function(e,a,t){return"square"===e?m.default.createElement(i.Community,{"data-testid":"community-icon",ariaLabel:t&&a,ariaHidden:!t}):m.default.createElement(i.Person,{"data-testid":"person-icon",ariaLabel:t&&a,ariaHidden:!t})},F=t.css(["",""],(function(e){var a=e.theme,n=a.border,r=a.color;return t.css(["border-radius:",";box-shadow:0 0 0 3px ",";color:",";outline:none;text-decoration:none;"],n.radius.base.value,r.focus.value,r.text.brand.value)})),M=function(a){var t=a.children,n=a.linkUrl,r=a.newTab,i=e.__rest(a,["children","linkUrl","newTab"]);return m.default.createElement("a",Object.assign({href:n,target:r&&"_blank"},i),t)},V=t.css(["color:",";"],(function(e){return e.theme.color.link.base.value})),D=f.default.div.withConfig({displayName:"Avatarcomponent__AvatarLabel",componentId:"dvca7c-3"})(["",""],(function(e){var a=e.size,n=e.theme,r=n.color,i=n.font,l=n.spacing;return t.css(["display:flex;margin:0;svg{align-self:flex-start;fill:",";color:",";width:",";margin:0 0 "," ",";}"],r.link.base.value,r.link.base.value,"xxl"==a||"xl"==a||"l"==a?i.size.body.base.value:o.math(i.size.body.base.value+"* 0.75"),l.xxs.value,l.xxs.value)})),G=f.default(M).withConfig({displayName:"Avatarcomponent__AvatarLink",componentId:"dvca7c-4"})(["",""],(function(e){return t.css(["background-color:transparent;text-decoration:none;text-decoration-color:",";","{text-decoration:underline;",";}&:hover,&:focus{outline:none;","{",";}","{text-decoration:none;}}"],(function(e){return e.theme.color.link.base.value}),D,e&&V,X,e&&F,D)})),J=f.default.div.withConfig({displayName:"Avatarcomponent__AvatarWrapper",componentId:"dvca7c-5"})(["display:flex;text-decoration:none;background:transparent;"]),K=f.default.div.withConfig({displayName:"Avatarcomponent__CharacterWrapper",componentId:"dvca7c-6"})(["",""],(function(e){var a=e.theme,n=a.font,r=a.color,i=e.size,o=void 0===i?"m":i,s=e.variant,c=e.backgroundColor;return t.css(["color:",";font-weight:",";max-width:100%;font-size:",";text-transform:uppercase;",";",";"],r.text.contrast.brand.value,n.weight.strong.value,l.calc(p[o],.45),P(s),O(c))})),Q=f.default.div.withConfig({displayName:"Avatarcomponent__PlaceHolderWrapper",componentId:"dvca7c-7"})(["",""],(function(e){var a=e.theme.color,n=e.size,r=e.backgroundColor,i=e.customSize,l=e.variant;return t.css(["display:flex;color:",";background-color:",";align-items:center;justify-content:center;width:",";height:",";min-width:",";min-height:",";",";",";svg{fill:",";width:65%;height:auto;justify-content:center;align-self:center;}"],a.text.contrast.brand.value,a.background.brand.base.value,i||p[n],i||p[n],i||p[n],i||p[n],O(r),P(l),a.text.contrast.brand.value)})),R=t.css(["padding:",";"],(function(e){return e.theme.spacing.xs.value})),X=f.default.div.withConfig({displayName:"Avatarcomponent__InnerWrapper",componentId:"dvca7c-8"})(["",""],(function(e){var a=e.labelAlign,n=e.linkUrl;return t.css(["display:inline-flex;",";align-items:center;",";"],n&&R,function(e){switch(e){case"right":return L;case"bottom":return j;default:return L}}(a))})),Y=f.default.span.withConfig({displayName:"Avatarcomponent__SubLabel",componentId:"dvca7c-9"})(["",""],(function(e){var a=e.labelAlign,n=e.theme.color;return t.css(["margin:0;align-self:center;",";color:",";"],function(e){switch(e){case"right":return U;case"bottom":return W;default:return U}}(a),n.text.base.value)})),Z=f.default.div.withConfig({displayName:"Avatarcomponent__LabelsWrapper",componentId:"dvca7c-10"})(["",""],(function(e){var a=e.labelAlign;return t.css(["display:flex;flex-direction:column;",";"],function(e){switch(e){case"right":return H;case"bottom":return q;default:return H}}(a))})),$=f.default.div.withConfig({displayName:"Avatarcomponent__ImgWrapper",componentId:"dvca7c-11"})(["",""],(function(e){var a=e.size,n=e.variant,r=e.customSize;return t.css(["width:",";height:",";min-width:",";min-height:",";",";"],r||p[a],r||p[a],r||p[a],r||p[a],P(n))})),ee=f.default.img.withConfig({displayName:"Avatarcomponent__AvatarImage",componentId:"dvca7c-12"})(["",""],(function(e){var a=e.theme.color,n=e.variant;return t.css(["box-shadow:inset 0 0 4px 0 ",";width:100%;height:100%;min-height:100%;min-width:100%;max-height:100%;object-fit:cover;",";"],a.text.base.value,P(n))}));_.uitkName="Avatar",exports.Avatar=_,exports.AvatarLink=G,exports.default=_;
