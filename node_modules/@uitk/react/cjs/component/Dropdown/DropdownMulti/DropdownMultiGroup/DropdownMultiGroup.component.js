"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require('react'),t=require('styled-components'),n=require('../DropdownMultiItem/DropdownMultiItem.component.js'),o=require('../../styles/commonStyles.js'),l=require('../../../Checkbox/Checkbox.component.js');function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=r(e),c=r(t),i=c.default.fieldset.withConfig({displayName:"DropdownMultiGroupcomponent__DropdownGroupFieldset",componentId:"znnrpd-0"})(["",""],(function(e){var n=e.theme,o=n.border,l=n.color,r=n.spacing;return t.css(["padding:0 "," ",";margin:0 0 "," ",";border:"," solid ",";border-radius:",";"],r.xs.value,r.base.value,r.xs.value,r.xs.value,o.width.base.value,l.border.accessible.value,o.radius.base.value)})),d=c.default.legend.withConfig({displayName:"DropdownMultiGroupcomponent__DropdownGroupedFieldsetLegend",componentId:"znnrpd-1"})(["",""],(function(e){var n=e.theme,o=n.color,l=n.font,r=n.spacing;return t.css(["padding:",";margin-bottom:",";color:",";font-weight:",";"],r.xs.value,r.xxs.value,o.text.forms.label.value,l.weight.form.labels.value)})),a=c.default.div.withConfig({displayName:"DropdownMultiGroupcomponent__SelectAllContainer",componentId:"znnrpd-2"})(["",""],(function(e){var n=e.isChecked;return t.css([""," ",";&:hover,&:focus-within{","{","}}"],o.selectAllContainerStyles,n&&o.selectAllCheckedStyles,s,o.dropdownMultiItemActiveStyles)})),s=c.default(l.Checkbox).withConfig({displayName:"DropdownMultiGroupcomponent__SelectAllCheckbox",componentId:"znnrpd-3"})(["",""],(function(e){var n=e.checked,l=e.theme.font;return t.css([""," label{font-weight:",";}"],o.selectAllCheckboxStyles,l.weight[n?"strong":"base"].value)})),p=function(t){var o=t.dropdownGroup,l=t.flatItems,r=t.getItemRef,c=t.onFocus,p=t.onKeyDownGroupItem,f=t.onSelectItems,m=t.rootId,h=t.selectGroupLabel,g=t.selectedItems,b=o.value,w=e.useRef(),v=e.useMemo((function(){return b.filter((function(e){return g.includes(e)}))}),[o,g]);return e.useEffect((function(){w.current&&(w.current.indeterminate=v.length>0&&v.length!==b.length)}),[o,g]),u.default.createElement(i,null,u.default.createElement(d,null,o.label),u.default.createElement(a,{isChecked:v.length===b.length},u.default.createElement(s,{id:"".concat(m,"-select-all"),checkboxRef:w,checked:v.length===b.length,onChange:function(){return f(b,g)},onFocus:function(){return c(-1)}},h,v.length===b.length)),b.map((function(e,t){return u.default.createElement(n.DropdownMultiItem,{key:e.label,checkboxRef:r(e.id),selected:g.indexOf(e)>-1,checked:g.indexOf(e)>-1,onChange:function(){return f([e],g)},onFocus:function(){return c(l.indexOf(e))},id:"".concat(m,"-").concat(t),label:e.label,onKeyDownItem:function(t){return p(t,l.indexOf(e))}})})))},f=c.default(p).withConfig({displayName:"DropdownMultiGroupcomponent__DropdownMultiGroup",componentId:"znnrpd-4"})([""]);exports.DropdownMultiGroup=f;
