import n from'../../../external/lodash-es/cloneDeep.js';import{NavType as e}from'../types.js';var t,r=function(n){return void 0!==n.links},a=function(n,e,t){return e.isActive?e.isActive(n.url,t):n.isActive?n.isActive(n.url,t):t===n.url},i=function(n,e){return!n&&!e},o=function(n,e){return n?Boolean(e.expanded):e.active},u=function(e,t){var u=t.isDesktop,l=t.route,E=n(e);return function n(t){for(var E=arguments.length>1&&void 0!==arguments[1]&&arguments[1],A=!1,c=0;c<t.length;c++){var s=t[c];if(i(E,A)){if(r(s)){var d=n(s.links);s.active=d,s.expanded=o(u,s)}else s.active=a(s,e,l);s.active&&(A=!0)}else s.active=!1,r(s)&&(s.expanded=o(u,s),n(s.links,!0))}return A}(E.links),E},l=function(n,t){return(n===e.GLOBAL||n===e.HORIZONTAL)&&t},E=function(e,t){var a=n(e),i=t.isDesktop,o=t.label,u=t.variant;return function n(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!1,E=!1,A=0;A<e.length;A++){var c=e[A];r(c)?E&&l(u,i)?c.expanded=!1:t||c.label!==o?n(c.links,t)?(a=!0,c.expanded=!0):l(u,i)&&(c.expanded=!1):(c.expanded=!0,E=!0,n(c.links,!0),a=!0):c.active&&t&&(a=!0)}return a}(a.links),a},A=function(e,t){var a=n(e);return function n(e){for(var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!1,o=0;o<e.length;o++){var u=e[o];if(r(u)&&(a||u.label!==t?(a&&(u.expanded=!1),n(u.links,a)):(u.expanded=!1,i=!0,n(u.links,!0)),i))return}}(a.links),a},c=function(e){var t=n(e);return function n(e){for(var t=0;t<e.length;t++){var a=e[t];r(a)&&(a.expanded=!1,n(a.links))}}(t.links),t},s=function(e){var t=n(e);return function n(e){for(var t=0;t<e.length;t++){var a=e[t];r(a)&&(a.expanded=a.active,n(a.links))}}(t.links),t};!function(n){n.ROUTE_UPDATE="ROUTE_UPDATE",n.OPEN_PANEL="OPEN_PANEL",n.CLOSE_PANEL="CLOSE_PANEL",n.CLOSE_NAV="CLOSE_NAV",n.OPEN_NAV_ACTIVE_PATH="OPEN_NAV",n.RESET_NAVIGATION_STATE="RESET_NAVIGATION_STATE"}(t||(t={}));var d=function(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:t.ROUTE_UPDATE,payload:{route:n,isDesktop:e}}},v=function(n,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:t.OPEN_PANEL,payload:{label:n,variant:e,isDesktop:r}}},p=function(n){return{type:t.CLOSE_PANEL,payload:n}},_=function(){return{type:t.CLOSE_NAV}},f=function(){return{type:t.OPEN_NAV_ACTIVE_PATH}},N=function(n){return{type:t.RESET_NAVIGATION_STATE,payload:n}},T=function(n,e){switch(e.type){case t.RESET_NAVIGATION_STATE:return e.payload;case t.ROUTE_UPDATE:return u(n,e.payload);case t.OPEN_PANEL:return E(n,e.payload);case t.CLOSE_PANEL:return A(n,e.payload);case t.CLOSE_NAV:return c(n);case t.OPEN_NAV_ACTIVE_PATH:return s(n);default:return n}};export{_ as closeNav,p as closePanel,u as getActiveStateForRoute,c as getStateForCloseNavUpdate,A as getStateForClosePanelUpdate,s as getStateForOpenNavAtActivePanelUpdate,E as getStateForOpenPanelUpdate,r as isPanel,f as openNavAtActivePath,v as openPanel,T as reducer,N as resetNavigationState,d as routeUpdate};
