import e from'../../external/@babel/runtime/helpers/slicedToArray.js';import{__rest as n}from'tslib';import a,{memo as t,useEffect as o,useState as i,useRef as r,useContext as l}from'react';import d,{css as s,ThemeContext as c,keyframes as p}from'styled-components';import{useButton as m}from'@react-aria/button';import u from'classnames';import{TrackingConstants as b}from'../../constant.js';import{getUuid as f}from'../../utility/getUuid/getUuid.js';import{useControllableState as h}from'../../hook/useControllableState/useControllableState.js';import{useTracking as v}from'../TrackingProvider/TrackingProvider.component.js';import{ArrowRightBold as g}from'../Icon/ArrowRightBold.component.js';var y=d.h3.withConfig({displayName:"Panelcomponent__Header",componentId:"ebl5fp-0"})(["margin:0;"]),x=d.button.withConfig({displayName:"Panelcomponent__HeaderSection",componentId:"ebl5fp-1"})(["",""],(function(e){var n=e.theme,a=n.spacing,t=n.animation,o=n.color,i=n.border;return s(["border:0;background-color:",";display:flex;align-items:flex-start;flex-direction:column;width:100%;cursor:pointer;user-select:none;outline:none;padding-left:",";border-left:4px solid transparent;&:hover,&:focus{box-shadow:0 0 0 3px ",";border-radius:",";z-index:1;position:relative;transition:all "," ease-in-out;}"],o.background.surface.base.value,a.sm.value,o.border.brand.base.value,i.radius.base.value,t.duration.animate.fast.value)})),_=d.span.withConfig({displayName:"Panelcomponent__HeaderText",componentId:"ebl5fp-2"})(["",""],(function(e){var n=e.theme,a=n.spacing,t=n.color,o=n.font;return s(["display:block;padding:"," 0 "," ",";line-height:",";font-family:",";font-size:",";font-weight:",";color:",";margin:0;text-align:left;"],a.base.value,a.base.value,a.xs.value,o.size.heading.h3.value,o.family.heading.h3.value,o.size.heading.h3.value,o.weight.heading.h3.value,t.text.heading.h3.value)})),k=d.span.withConfig({displayName:"Panelcomponent__HeaderMainContent",componentId:"ebl5fp-3"})(["display:flex;align-items:center;width:100%;"]),P=d.span.withConfig({displayName:"Panelcomponent__HeaderDetail",componentId:"ebl5fp-4"})(["",""],(function(e){var n=e.theme,a=n.spacing,t=n.font,o=n.color;return"\n  display: block;\n  width: 100%;\n  text-align: left;\n  padding-bottom: ".concat(a.base.value,";\n  font-size: ").concat(t.size.body.base.value,";\n  color: ").concat(o.text.base.value,";\n  ")})),w=d.span.withConfig({displayName:"Panelcomponent__HeaderTitle",componentId:"ebl5fp-5"})(["",""],(function(e){var n=e.theme.spacing;return"\n    display: inline-block;\n    line-height: 1;\n    padding: ".concat(n.base.value," 0 ").concat(n.base.value," ").concat(n.m.value,";\n  ")})),C=d.span.withConfig({displayName:"Panelcomponent__IconWrapper",componentId:"ebl5fp-6"})(["",""],(function(e){var n=e.expanded,a=e.theme.animation;return"  \n  display: inline-block;\n  line-height: 0;\n  ".concat(n&&"transform: rotate(90deg);","\n  transition: all ").concat(a.duration.animate.medium.value," linear;\n  ")})),N=p(["0%{display:none;opacity:0;}1%{display:block;opacity:0;}100%{display:block;opacity:1;}"]),I=d.div.withConfig({displayName:"Panelcomponent__Content",componentId:"ebl5fp-7"})(["",""],(function(e){var n=e.theme,a=n.spacing,t=n.animation;return s(["padding:"," "," "," ",";animation:"," "," linear normal;"],a.lg.value,a.lg.value,a.xxl.value,a.m.value,N,t.duration.animate.medium.value)})),E=f("panel"),H=t((function(n){var t=n.children,o=n.className,i=n.initiallyOpen,r=n.onHeaderPress,l=n.open,d=h(l,r,!i),s=e(d,2),c=s[0],p=s[1],m=a.Children.map(t,(function(e,n){var t;return a.cloneElement(e,{open:n===c,onHeaderPress:(t=n,function(){return p(l===t?null:t)})})}));return a.createElement("div",{className:u("uitk-accordion",o)},m)}));H.displayName="_AccordionGroup";var j=d(H).withConfig({displayName:"Panelcomponent__AccordionGroup",componentId:"ebl5fp-8"})(["",""],(function(e){var n=e.theme,a=n.color,t=n.border;return s(["border-bottom:"," ",' solid;.uitk-panel{border-left:transparent;border-right:transparent;border-radius:0;border-bottom:0;.uitk-panel-header{border-radius:0;}}.uitk-panel .uitk-panel-header[aria-expanded="true"]{background:',";border-left:4px solid ",";}"],a.border.base.value,t.width.base.value,a.background.base.value,a.border.brand.base.value)})),A=function(t){var d=t.children,s=t.className,p=t.headerDetail,f=t.icon,N=t.initiallyClosed,H=t.onHeaderPress,j=t.open,A=t.title,z=t.titleAs,G=t.collapsible,T=void 0===G||G,D=n(t,["children","className","headerDetail","icon","initiallyClosed","onHeaderPress","open","title","titleAs","collapsible"]),O=v();o((function(){O.mount(b.components.Panel.id)}),[O]);var S=h(j,H,!N),U=e(S,2),B=U[0],M=U[1],R=i(E),W=e(R,1)[0],q=r(),F=m({onPress:function(){return M(!B)}},q).buttonProps,J=l(c).color;return a.createElement("div",Object.assign({className:u("uitk-panel",s)},D),a.createElement(y,{"data-testid":"panel-header",as:z},T?a.createElement(x,Object.assign({className:"uitk-panel-header",ref:q},F,{"aria-expanded":B,"aria-controls":B?W:null}),a.createElement(k,null,a.createElement(C,{expanded:B},f||a.createElement(g,{fill:J.text.heading.h3.value})),a.createElement(_,{"data-testid":"panel-header-text"},A)),p&&a.createElement(P,{"data-testid":"panel-header-detail"},p)):a.createElement(w,null,A)),B?a.createElement(I,{id:W,"data-testid":"panel-content"},d):null)};A.Group=d.div.withConfig({displayName:"Panelcomponent__PanelGroup",componentId:"ebl5fp-9"})(["",""],(function(e){var n=e.theme.spacing;return s([".uitk-panel{margin-bottom:",";}"],n.xs.value)})),A.AccordionGroup=j;var z=d(A).withConfig({displayName:"Panelcomponent__Panel",componentId:"ebl5fp-10"})(["",""],(function(e){var n=e.theme,a=n.border,t=n.color;return s(["width:100%;background:",";border:"," solid ",";border-radius:",";"],t.background.surface.base.value,t.border.base.value,a.width.base.value,a.radius.base.value)}));export{z as Panel};
