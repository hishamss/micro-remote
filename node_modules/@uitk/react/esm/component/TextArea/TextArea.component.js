import e from'../../external/@babel/runtime/helpers/slicedToArray.js';import{__rest as o}from'tslib';import r,{useEffect as a,useState as t}from'react';import n,{css as l}from'styled-components';import{TrackingConstants as i}from'../../constant.js';import s from'classnames';import{getNativeProps as u,textAreaProperties as c}from'../../utility/getNativeProps/getNativeProps.js';import{HelperText as m}from'../HelperText/HelperText.component.js';import{useTracking as d}from'../TrackingProvider/TrackingProvider.component.js';var v=function(e){var o=e.children;return r.createElement(p,null,r.createElement(m,{"aria-live":"polite","aria-atomic":"true"},o))},f=function(n){var l=n.className;n.error;var m=n.maxLength,f=n.maxLengthMessage,b=n.onChange,g=n.textAreaRef,p=o(n,["className","error","maxLength","maxLengthMessage","onChange","textAreaRef"]),h=d();a((function(){h.mount(i.components.TextArea.id)}),[h]);var x,w,k=t(""),y=e(k,2),T=y[0],A=y[1],N=p.value,j=void 0===N?T:"".concat(N),C=function(e,o){return e-o.length}(m,j),E=u(p,c);return r.createElement(r.Fragment,null,r.createElement("textarea",Object.assign({ref:g,className:s("uitk-text-area",l),onChange:function(e){m?e.target.value.length<=m&&(A(e.target.value),b&&b(e)):(A(e.target.value),b&&b(e))},value:j},E)),m&&r.createElement(v,null,(w=C,(x=f)?x.replace("%d","".concat(w)):"".concat(w," characters remaining"))))},b=l(["",""],(function(e){var o=e.theme,r=o.boxshadow,a=o.color;return l(["background:",";box-shadow:",";&:hover{box-shadow:",";}&:active,&:focus{background-color:",";box-shadow:",";}"],a.semantic.error.subtle.value,r.form.error.value,r.form.error.value,a.background.form.element.base.value,r.form.focus.value)})),g=l(["",""],(function(e){var o=e.theme,r=o.boxshadow,a=o.color;return l(["color:",";cursor:default;background-color:",";box-shadow:",";&:hover,&:active,&:focus{color:",";cursor:default;background-color:",";box-shadow:",";}"],a.disabled.text.value,a.disabled.background.value,r.form.disabled.value,a.disabled.text.value,a.disabled.background.value,r.form.disabled.value)})),p=n.div.withConfig({displayName:"TextAreacomponent__CharacterWrapper",componentId:"sc-1l27enu-0"})(["",""],(function(e){var o=e.theme.spacing;return l(["display:flex;flex-direction:row-reverse;padding-top:",";"],o.sm.value)})),h=n(f).withConfig({displayName:"TextAreacomponent__TextArea",componentId:"sc-1l27enu-1"})(["",""],(function(e){var o=e.disabled,r=e.error,a=e.theme,t=a.animation,n=a.border,i=a.boxshadow,s=a.color,u=a.font,c=a.spacing;return l(["-webkit-appearance:none;border:none;box-shadow:",";box-sizing:border-box;border-radius:",";background-color:",";color:",";font-size:",";font-weight:",";font-family:",";padding:",";height:15rem;resize:none;width:100%;outline:none;overflow-y:auto;transition:",";transition-property:border,box-shadow;margin-top:",";&:hover{box-shadow:",";}&:active,&:focus{background-color:",";box-shadow:",";}"," ",""],i.form.base.value,n.radius.form.element.value,s.background.form.element.base.value,s.text.base.value,u.size.body.base.value,u.weight.base.value,u.family.base.value,c.sm.value,t.duration.animate.fast.value,c.xxs.value,i.form.hover.value,s.background.form.element.base.value,i.form.focus.value,o&&g,r&&b)}));h.uitkName="TextArea",h.uitkType="FormField";export{p as CharacterWrapper,h as TextArea,f as _TextArea,h as default};
