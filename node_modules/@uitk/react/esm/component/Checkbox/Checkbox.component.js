import{__rest as e}from'tslib';import o,{useRef as r,useCallback as t,useEffect as a}from'react';import n,{css as i}from'styled-components';import{TrackingConstants as c}from'../../constant.js';import d from'classnames';import{math as l}from'polished';import{useTracking as s}from'../TrackingProvider/TrackingProvider.component.js';var u=function(n){var i=n.checkboxRef,l=n.children,u=n.className;n.error;var h=e(n,["checkboxRef","children","className","error"]),v=s(),p=r(),x=i||p,k=t((function(){var e;null===(e=x.current)||void 0===e||e.focus()}),[x]);a((function(){v.mount(c.components.Checkbox.id)}),[v]),a((function(){var e=x.current;return null==e||e.addEventListener("change",k),function(){null==e||e.removeEventListener("change",k)}}),[x,k]);var g=h.id;return o.createElement(b,{"data-testid":"checkbox-container",className:d("uitk-checkbox-container",u)},o.createElement(f,Object.assign({"data-testid":"test-input",className:"uitk-checkbox",ref:x},h,{type:"checkbox"})),o.createElement(m,{className:"uitk-checkbox-label",htmlFor:g},l))},b=n.div.withConfig({displayName:"Checkboxcomponent__CheckboxContainer",componentId:"yui814-0"})(["",""],(function(e){var o=e.theme,r=o.spacing,t=o.border;return i(["background-position:top 0.75rem right 0.75rem;margin-top:",";border-radius:",";line-height:0;"],r.xxs.value,t.radius.form.element.value)})),m=n.label.withConfig({displayName:"Checkboxcomponent__Label",componentId:"yui814-1"})(["",""],(function(e){var o=e.theme,r=o.font,t=o.spacing,a=o.border,n=o.color,c=o.animation,d=o.boxshadow;return i(["display:inline-flex;align-items:center;position:relative;margin:"," 0 "," ",";cursor:pointer;font-weight:",";color:",";box-shadow:none;line-height:1.5;&:before{display:inline-block;align-self:flex-start;background-color:",";border:"," solid ",";border-radius:",';content:"";margin:'," "," 0 0;outline:none;min-width:1.25rem;height:1.25rem;transition:",";}&:hover:before{box-shadow:",";}"],t.sm.value,t.sm.value,t.xs.value,r.weight.base.value,n.text.base.value,n.background.form.element.base.value,a.width.base.value,n.border.accessible.value,a.radius.form.element.value,l(t.xxs.value+" / 2"),t.sm.value,c.duration.animate.fast.value,d.form.checked.focus.value)})),f=n.input.withConfig({displayName:"Checkboxcomponent__Input",componentId:"yui814-2"})(["",""],(function(){return i(["clip:rect(1px,1px,1px,1px);position:absolute;height:1px;width:1px;overflow:hidden;"])})),h=i(["",""],(function(e){var o=e.theme.boxshadow;return i(["",":active + ",":before,",":focus + ",":before,",":hover + ",":before{box-shadow:",";}"],f,m,f,m,f,m,o.form.checked.error.focus.value)})),v=i(["",""],(function(e){var o=e.theme,r=o.color,t=o.boxshadow;return i(["background:",";box-shadow:",";&:active,&:focus,&:hover{box-shadow:"," ",";}","{box-shadow:none;color:",";}",""],r.semantic.error.subtle.value,t.form.error.value,t.form.base.value,r.semantic.error.base.value,m,r.semantic.error.contrast.value,h)})),p=i(["",""],(function(e){var o=e.theme.color;return i(["",":disabled+",":before{background-color:",";color:",";cursor:default;border:none;box-shadow:0 0 0 1px ",";}",":disabled+","{color:",";cursor:default;border:none;}",":disabled+",":active:before,",":disabled+",":focus:before{background-color:",";color:",";cursor:default;border:none;box-shadow:0 0 0 1px ",";}",":disabled+",":after{border-color:",";color:",";}",":disabled+",":hover:after{content:none;}",":checked+",':hover:after{content:"";}'],f,m,o.disabled.background.value,o.disabled.text.value,o.disabled.border.value,f,m,o.disabled.text.value,f,m,f,m,o.disabled.background.value,o.disabled.text.value,o.disabled.border.value,f,m,o.disabled.border.value,o.disabled.border.value,f,m,f,m)})),x=n(u).withConfig({displayName:"Checkboxcomponent__Checkbox",componentId:"yui814-3"})(["",""],(function(e){var o=e.disabled,r=e.error,t=e.theme,a=t.color,n=t.boxshadow;return i(["",":active + ",":before,",":focus + ",":before{box-shadow:",";}",":checked + ",":before,",":indeterminate + ",":before{background-color:",";}",":checked + ",":after,",":indeterminate + ",':after{content:"";position:absolute;border:solid ',";}",":checked + ",":after{top:0.2rem;left:0.37rem;width:0.5rem;height:0.87rem;border-width:0 2.25px 2.25px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);}",":indeterminate + ",":after{top:0.7rem;left:0.25rem;width:0.75rem;border-width:0 0 2px 0;}",":disabled + ","{&:hover,&:after{content:none;}}",":checked + ",'{&:hover,&:after{content:"";}}'," &.grouped-form-field--error{","}",""],f,m,f,m,n.form.checked.focus.value,f,m,f,m,a.background.primary.base.value,f,m,f,m,a.background.form.element.base.value,f,m,f,m,f,m,f,m,r&&v,h,o&&p)}));x.uitkName="Checkbox",x.uitkType="FormField";export{x as Checkbox,u as _Checkbox,x as default};
