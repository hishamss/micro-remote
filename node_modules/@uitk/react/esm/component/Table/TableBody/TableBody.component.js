import e from'../../../external/@babel/runtime/helpers/slicedToArray.js';import t,{useState as o}from'react';import n,{css as r}from'styled-components';import{headerAndCellStyles as a}from'../styles.js';import{getRangeForRender as l}from'../utils/pagination.js';import{ExpandableRow as d}from'../ExpandableRow.component.js';import{ExpandRowButton as i}from'../ExpandRowButton.component.js';import{useTableState as u,useTablePagination as c,useTableConfig as s,useTableExpandableContent as b}from'../TableContext/TableContext.component.js';import{useControllableState as m}from'../../../hook/useControllableState/useControllableState.js';var p=r(["",""],(function(e){var t=e.theme.color;return r(["background:",";border-bottom:none;"],t.background.table.row.accent.subtle.value)})),v=r(["",""],(function(e){var t=e.theme.color;return r(["background:",';position:relative;background-clip:padding-box;&:first-child:before{content:"";position:absolute;top:0;left:0;display:block;background:',";height:100%;width:4px;}"],t.background.table.row.accent.subtle.value,t.background.brand.base.value)})),f=r(["",""],(function(e){var t=e.theme,o=t.border,n=t.color;return r(["background:",";text-align:center;vertical-align:middle;border-right:"," solid ",";"],n.background.table.row.accent.subtle.value,o.width.base.value,n.border.base.value)})),g=r(["",""],(function(e){return e.theme.color,"\n  background: transparent;\n  font-size: 0.875rem;\n  line-height: 1.5;"})),w=n.td.withConfig({displayName:"TableBodycomponent__TableBodyCell",componentId:"sc-109z60r-0"})(["",""],(function(e){var t=e.expanded,o=e.isExpandButtonCell,n=e.nested,l=e.theme,d=l.border,i=l.color,u=l.font;return r(["background:",";border-bottom:"," solid ",";color:",";font-weight:",";",";vertical-align:middle;",";",";",";",""],i.background.table.row.value,d.width.base.value,i.border.base.value,i.text.table.row.value,u.weight.base.value,a,o&&f,t&&p,t&&o&&v,n&&g)})),h=function(n){var r,a,l,c=n.index,p=n.nested,v=o(),f=e(v,2),g=f[0],h=f[1],x=u().data,k=s(),E=k.columns,y=k.onRenderCell,C=b(),B=[],R=x[c],T=null,j="".concat(R.id,"-expandable-content"),P=m(null===(r=null==C?void 0:C.rows[R.id])||void 0===r?void 0:r.expanded,null==C?void 0:C.onExpandableRowBtnPress,!1),S=e(P,2),z=S[0],I=S[1],_=null===(a=null==C?void 0:C.rows[R.id])||void 0===a?void 0:a.removePadding,D=null===(l=null==C?void 0:C.rows[R.id])||void 0===l?void 0:l.altHideRowButtonText;if(C&&(B.push(t.createElement(w,{key:"".concat(R.id,"-more-btn"),expanded:z,nested:p,isExpandButtonCell:!0},C.rows[R.id]?t.createElement(i,{expandableContentId:j,ref:h,refInstance:g,expanded:z,onPress:function(){return I(!z,R.id)},rowData:R}):null)),C.rows[R.id])){T=t.createElement(d,{hideRowButtonText:C.hideRowButtonText,key:j,id:j,onCloseButtonPress:function(){I(!1,R.id),g.focus()},tdColSpan:E.length+1,rowData:R,removePadding:_,altHideRowButtonText:D},C.rows[R.id].content)}E.forEach((function(e){var o=e.key,n=e.label,r=e.onRenderCell;return B.push(t.createElement(w,{key:R.id+"-"+(null!=o?o:n),expanded:z,nested:p},r?r(R,o,n):y?y(R,o,n):R[o]))}));var H=C&&z;return t.createElement(t.Fragment,null,t.createElement("tr",{"data-testid":"table-row"},B),H&&T)},x=function(e){for(var o=e.nested,n=u().data,r=c(),a=r.page,d=r.pageSize,i=l(a,d,n),s=i.end,b=[],m=i.start;m<=s;m++)b.push(t.createElement(h,{nested:o,key:n[m].id,index:m}));return t.createElement("tbody",null,b)};export{x as TableBody};
