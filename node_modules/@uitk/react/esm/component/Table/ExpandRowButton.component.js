import t,{useEffect as e}from'react';import{useButton as o}from'@react-aria/button';import n,{css as a}from'styled-components';import{Key as r}from'../../constant.js';import{getAriaLabel as d,getMissingConfigHandler as i}from'./util.js';import{ArrowRightBold as u}from'../Icon/ArrowRightBold.component.js';import{useTableExpandableContent as l}from'./TableContext/TableContext.component.js';var p=a(["",""],(function(t){var e=t.theme.color;return a(["background:",";transform:rotate(90deg);svg{fill:",";}"],e.text.table.row.value,e.background.table.row.interaction.subtle.value)})),s=n.button.withConfig({displayName:"ExpandRowButtoncomponent__Button",componentId:"sc-6wdzvw-0"})(["",""],(function(t){var e=t.expanded,o=t.theme,n=o.border,r=o.boxshadow,d=o.color;return a(["display:block;margin:0 auto;cursor:pointer;box-shadow:",";background:none;outline:none;border-radius:",";border-width:0;padding:2px;line-height:0px;&:active,&:focus,&:hover{box-shadow:",",inset ",";}svg{fill:",";}",";"],r.table.expand.button.default.value,n.radius.base.value,r.table.expand.button.focus.value,r.table.expand.button.default.value,d.text.table.row.value,e&&p)})),c=n(u).withConfig({displayName:"ExpandRowButtoncomponent__ExpandIcon",componentId:"sc-6wdzvw-1"})([""]),b=t.forwardRef((function(n,a){var u=n.expandableContentId,p=n.expanded,b=n.onPress,m=n.refInstance,x=n.rowData,f=l(),v=f.expandButtonAriaLabelPrefix,w=f.getExpandButtonAriaLabel,g=(w?d:i("getExpandButtonAriaLabel"))(x,v,w),h=o({onPress:b},a).buttonProps;return e((function(){if(m&&p){var t=function(t){t.key===r.ESC&&b()};return m.addEventListener("keyup",t),function(){return null==m?void 0:m.removeEventListener("keyup",t)}}}),[m,b,p]),t.createElement(s,Object.assign({},h,{ref:a,expanded:p,"aria-expanded":p,"aria-controls":p&&u||null,"data-testid":"Expand Row","aria-label":g}),t.createElement(c,{height:"16px",width:"16px"}))}));b.displayName="ExpandRowButton";export{b as ExpandRowButton};
