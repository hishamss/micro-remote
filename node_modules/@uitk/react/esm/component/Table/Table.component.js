import e from'../../external/@babel/runtime/helpers/slicedToArray.js';import{__rest as t}from'tslib';import n,{memo as a,useState as o,useEffect as i,useMemo as r}from'react';import c,{css as s}from'styled-components';import l from'classnames';import{Z_INDEX as d,TrackingConstants as p}from'../../constant.js';import{TableProvider as m}from'./TableContext/TableContext.component.js';import{TableCaption as b}from'./TableCaption/TableCaption.component.js';import{getNativeProps as u,tableProperties as v}from'../../utility/getNativeProps/getNativeProps.js';import{TableHeader as f}from'./TableHeader/TableHeader.component.js';import{TableBody as g}from'./TableBody/TableBody.component.js';import{useTracking as h}from'../TrackingProvider/TrackingProvider.component.js';var y=c.div.withConfig({displayName:"Tablecomponent__TableContainer",componentId:"rc5txq-0"})(["",""],(function(e){var t=e.maxHeight,n=e.nested,a=e.theme.color;return s([""," "," display:block;width:100%;"],t&&" \n      max-height: ".concat(t,"; \n      &:focus {\n        outline: 3px solid ").concat(a.focus.value,";\n      }\n      \n      &::-webkit-scrollbar {\n        position: absolute;\n        background: transparent;\n        width: 17px;\n      }\n\n      &::-webkit-scrollbar-thumb {\n        background: rgba(0, 0, 0, 0.5);\n        border-radius: 10px;\n        border: 5px solid ").concat(a.background.base.value,";\n      }\n\n      &::-webkit-scrollbar-thumb:vertical {\n        height: 20px;\n        width: 17px;\n      }\n    "),!n&&"overflow-x: auto;")})),k={captionDescription:"This table has sortable content"},x={captionSticky:!0,captionIndex:d.EIGHT-1,captionOffset:"3.25rem",headerSticky:!0,headerIndex:d.EIGHT-2,headerOffset:"5.75rem"},T=a((function(a){var c,s,d,T,O;a.rootClassName;var S=a.className,w=a.data,C=void 0===w?[]:w,E=a.page,N=a.pageSize,I=a.config,H=a.expandableContent,_=t(a,["rootClassName","className","data","page","pageSize","config","expandableContent"]),B=o(I),P=e(B,2),z=P[0],M=P[1],q=o(null===(c=z.sticky)||void 0===c?void 0:c.maxHeight),D=e(q,2),G=D[0],A=D[1],F=h(),J=o((function(){return Math.floor(Math.random()*Math.floor(1e5))})),K=e(J,1)[0],L="caption-".concat(_.id||K);i((function(){F.mount(p.components.Table.id)}),[F]);var Q=r((function(){var e;return Object.assign(Object.assign(Object.assign({},k),(null===(e=z.caption)||void 0===e?void 0:e.descriptionText)&&{captionDescription:z.caption.descriptionText}),{data:C})}),[C,null===(s=z.caption)||void 0===s?void 0:s.descriptionText]),R={page:E,pageSize:N},U=function(e,t){var n={};return Object.keys(e).forEach((function(a){var o;return n[a]=null!==(o=t[a])&&void 0!==o?o:e[a]})),n};return i((function(){var e;M(I),function(e,t,n,a,o){var i;e.nested?(!0===e.sort&&(x.headerOffset="7.125rem"),e.sticky?t(Object.assign(Object.assign({},e),{sticky:Object.assign({},n(x,e.sticky))})):t(Object.assign(Object.assign({},e),{sticky:Object.assign({},x)}))):(null===(i=e.sticky)||void 0===i?void 0:i.headerSticky)&&!o&&a("500px")}(I,M,U,A,null===(e=z.sticky)||void 0===e?void 0:e.maxHeight)}),[I]),n.createElement(n.Fragment,null,n.createElement(m,{initialState:Q,config:z,paginationState:R,expandableContent:H},n.createElement("div",{className:l("uitk-table",S)},(null===(d=z.sticky)||void 0===d?void 0:d.headerSticky)&&z.caption&&n.createElement(b,{captionId:L,nested:z.nested}),n.createElement(y,{maxHeight:G,nested:z.nested,tabIndex:(null===(T=z.sticky)||void 0===T?void 0:T.headerSticky)&&!z.nested?0:void 0},n.createElement(j,Object.assign({"aria-labelledby":I.labelledBy?I.labelledBy:z.nested||(null===(O=z.sticky)||void 0===O?void 0:O.headerSticky)?L:null},u(_,v)),!z.sticky&&z.caption&&n.createElement(b,{captionId:L}),n.createElement(f,{captionId:L,onSort:z.onSort}),n.createElement(g,{nested:z.nested}))))))}));T.displayName="Table";var j=c.table.withConfig({displayName:"Tablecomponent__StyledTable",componentId:"rc5txq-1"})(["border-collapse:separate;border-spacing:0;white-space:nowrap;display:table;width:100%;overflow:auto;position:relative;"]);T.uitkName="Table";export{T as Table,T as default};
