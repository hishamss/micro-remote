import e,{useRef as n,useMemo as o,useEffect as t}from'react';import r,{css as l}from'styled-components';import{DropdownMultiItem as i}from'../DropdownMultiItem/DropdownMultiItem.component.js';import{selectAllContainerStyles as c,selectAllCheckedStyles as u,dropdownMultiItemActiveStyles as a,selectAllCheckboxStyles as d}from'../../styles/commonStyles.js';import{Checkbox as p}from'../../../Checkbox/Checkbox.component.js';var m=r.fieldset.withConfig({displayName:"DropdownMultiGroupcomponent__DropdownGroupFieldset",componentId:"znnrpd-0"})(["",""],(function(e){var n=e.theme,o=n.border,t=n.color,r=n.spacing;return l(["padding:0 "," ",";margin:0 0 "," ",";border:"," solid ",";border-radius:",";"],r.xs.value,r.base.value,r.xs.value,r.xs.value,o.width.base.value,t.border.accessible.value,o.radius.base.value)})),s=r.legend.withConfig({displayName:"DropdownMultiGroupcomponent__DropdownGroupedFieldsetLegend",componentId:"znnrpd-1"})(["",""],(function(e){var n=e.theme,o=n.color,t=n.font,r=n.spacing;return l(["padding:",";margin-bottom:",";color:",";font-weight:",";"],r.xs.value,r.xxs.value,o.text.forms.label.value,t.weight.form.labels.value)})),f=r.div.withConfig({displayName:"DropdownMultiGroupcomponent__SelectAllContainer",componentId:"znnrpd-2"})(["",""],(function(e){var n=e.isChecked;return l([""," ",";&:hover,&:focus-within{","{","}}"],c,n&&u,h,a)})),h=r(p).withConfig({displayName:"DropdownMultiGroupcomponent__SelectAllCheckbox",componentId:"znnrpd-3"})(["",""],(function(e){var n=e.checked,o=e.theme.font;return l([""," label{font-weight:",";}"],d,o.weight[n?"strong":"base"].value)})),g=r((function(r){var l=r.dropdownGroup,c=r.flatItems,u=r.getItemRef,a=r.onFocus,d=r.onKeyDownGroupItem,p=r.onSelectItems,g=r.rootId,w=r.selectGroupLabel,b=r.selectedItems,v=l.value,x=n(),I=o((function(){return v.filter((function(e){return b.includes(e)}))}),[l,b]);return t((function(){x.current&&(x.current.indeterminate=I.length>0&&I.length!==v.length)}),[l,b]),e.createElement(m,null,e.createElement(s,null,l.label),e.createElement(f,{isChecked:I.length===v.length},e.createElement(h,{id:"".concat(g,"-select-all"),checkboxRef:x,checked:I.length===v.length,onChange:function(){return p(v,b)},onFocus:function(){return a(-1)}},w,I.length===v.length)),v.map((function(n,o){return e.createElement(i,{key:n.label,checkboxRef:u(n.id),selected:b.indexOf(n)>-1,checked:b.indexOf(n)>-1,onChange:function(){return p([n],b)},onFocus:function(){return a(c.indexOf(n))},id:"".concat(g,"-").concat(o),label:n.label,onKeyDownItem:function(e){return d(e,c.indexOf(n))}})})))})).withConfig({displayName:"DropdownMultiGroupcomponent__DropdownMultiGroup",componentId:"znnrpd-4"})([""]);export{g as DropdownMultiGroup};
